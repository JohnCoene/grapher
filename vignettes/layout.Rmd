---
title: "layout"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{layout}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)

library(htmltools)
```

```{r setup}
library(grapher)
```

There are multiple ways to layout your graph with <span class="brand">grapher</span>, though they can be broken down into two main categories, static or dynamic, you can either have the graph layout render in the browser or compute the layout in R and render a static visualisation, there is a subtle where one can dynamically compute the layout and stabilise the layout after some time. By default the graph is rendered dynamically in the browser, which you can customise with `graph_live_layout`.

## Live

You can customise the default live layout with `graph_live_layout`.

```{r}
g <- make_data(200)

graph(g) %>% 
  graph_live_layout(gravity = -3)
```

Since the above may be draining on the browser you can stabilise the network after some time.

```{r}
graph(g) %>% 
  graph_live_layout() %>% 
  graph_stable_layout(ms = 4000) # stabilise after 3 seconds
```

## Static

One way to precompute the position of nodes with igraph algorithms.

```{r}
graph(g) %>% 
  graph_static_layout() 
```

## Offline

Finally once can also use the same algorithm as used in the browser but offline, precomputing the nodes positons.

```{r}
graph(g) %>% 
  graph_offline_layout() 
```

If you have used the node js library to compute the layout, you can read the `positions.bin` file with `graph_bin_layout`.
